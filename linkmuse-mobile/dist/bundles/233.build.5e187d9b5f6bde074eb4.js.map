{"version":3,"file":"233.build.5e187d9b5f6bde074eb4.js","sources":["webpack:///webpack:///webpack:///../src/views/Interview/Show/Index.vue","webpack:///webpack:///webpack:///Index.vue","webpack:///webpack:///webpack:///../src/views/Interview/Show/Index.vue?4842"],"sourcesContent":["var disposed = false\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10bbb0c8\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/views/Interview/Show/Index.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-10bbb0c8\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-10bbb0c8\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../src/views/Interview/Show/Index.vue\n// module id = 1324\n// module chunks = 233\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/views/Interview/Show/Index.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/views/Interview/Show/Index.vue","<template>\n  <div class=\"lm-m-article-wrap\">\n    <div class=\"lm-m-article-wrap--item\">\n      <div class=\"lm-m-black-head-nav\">\n        <div class=\"lm-m-black-head-nav-wrap\">\n          <div class=\"left\">\n            <a @click=\"_handleClickPreviousPage\">\n              <i class=\"lm-back-icon\"></i>\n              <span>К списку</span>\n            </a>\n          </div>\n          <div class=\"right\">\n            <template v-if=\"isCurrentUser && interview.approve === 0\">\n              <i class=\"lm-more-icon\" @click=\"_handleClickActionSheetClick\"></i>\n            </template>\n          </div>\n        </div>\n      </div>\n      <template v-if=\"(interview)\">\n        <div class=\"lm-m-article-wrap--item-head\">\n          <img class=\"background\" :src=\"interview.images['media_social']\" :alt=\"interview.title\">\n          <div class=\"lm-m-article-overflow\">\n            <img class=\"image\" :src=\"interview.images['346x442']\" :alt=\"interview.title\">\n          </div>\n        </div>\n        <div class=\"lm-m-article-overflow-item\">\n          <div class=\"lm-m-article-overflow-item-title\">\n            <router-link class=\"category bio\" :to=\"{ name: 'interviews.category', params: { category: category.slug  } }\">\n              {{ category.name }}\n            </router-link>\n            <span class=\"date\">{{ [interview.date, 'DD-MM-YYYY'] | moment('DD MMM Y') }}</span>\n          </div>\n          <h1 class=\"blog-title\">{{ interview.title | truncate(50) }}</h1>\n          <div class=\"lm-m-article-item-user\">\n            <router-link :to=\"{ name: 'user.show', params: { username: user.username } }\" class=\"lm-user-block small\">\n              <img :src=\"user.avatar\" class=\"lm-user-block-avatar\">\n              <div class=\"lm-user-block-info\">\n                <div class=\"lm-user-block-info-name\"><span>{{ user_name }}</span></div>\n              </div>\n            </router-link>\n            <div class=\"lm-m-article-item-share\">\n              <social-share :url=\"interview.href\" :title=\"`Bio ${interview.title}`\" :description=\"$truncate(interview.description, 50)\" :media=\"interview.og.vk\"></social-share>\n            </div>\n            <div class=\"lm-m-article-item-view\">\n              <like-el type=\"interview\" :id=\"interview.id\" :count=\"likes.count\" :liked=\"likes.liked\" gtm=\"LIKE_ARTICLE_LIST\"/>\n            </div>\n          </div>\n          <div class=\"text\" v-html=\"interview.description\"></div>\n        </div>\n      </template>\n      <template v-if=\"(!interview)\">\n        <span>Ошибка, интервью не найдено.</span>\n      </template>\n    </div>\n    <actionsheet :actions=\"sheet.actions\" v-model=\"sheet.value\" cancel-text=\"\"></actionsheet>\n  </div>\n</template>\n\n<script>\n  import { mapGetters } from 'vuex'\n\n  export default {\n    metaInfo: {\n      title: 'Интервью'\n    },\n    data () {\n      return {\n        sheet: {\n          value: false,\n          actions: [\n            {\n              name: 'Подтвердить публикацию',\n              method: this._handleClickApprove\n            }\n          ]\n        }\n      }\n    },\n    async asyncData ({store, route}) {\n      let { category, slug } = route.params\n\n      await Promise.all([\n        store.dispatch('interview/getInterviewByCategoryAndSlug', { category, slug })\n      ])\n    },\n    computed: {\n      ...mapGetters({\n        authUser: 'auth/getAuthUser',\n        isAuthorized: 'auth/isAuthorized',\n        interview: 'interview/getSingleInterviewData',\n        loading: 'interview/getSingleInterviewLoading',\n        error: 'interview/getSingleInterviewError'\n      }),\n      category () {\n        return this.interview.category\n      },\n      user () {\n        return (this.interview) ? this.interview.user.data : null\n      },\n      user_name () {\n        return this.interview.user_name || this.user.name;\n      },\n      likes () {\n        return this.interview.likes\n      },\n      isCurrentUser () {\n        return (this.user && this.authUser.id === this.user.id)\n      }\n    },\n    methods: {\n      _handleClickActionSheetClick () {\n        this.sheet.value = true\n      },\n      _handleClickApprove () {\n        if (!this.isAuthorized) {\n          this.$root.$emit('open-access-auth-modal');\n          return false;\n        }\n\n        this.$api.patch(`/api/v1/interviews/${this.interview.id}/approve`, { status: 1 }).then((response) => {\n          this.$store.dispatch('interview/setSingleInterviewDataFields', { approve: 1 })\n        }).catch((response) => {\n          this.$store.dispatch('interview/setSingleInterviewDataFields', { approve: 0 })\n        });\n      },\n      _handleClickPreviousPage () {\n        if (window.history.length > 2) {\n          this.$router.go(-1)\n        } else {\n          this.$router.push({ name: 'interviews.index' })\n        }\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Index.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///Index.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///Index.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"lm-m-article-wrap\" },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"lm-m-article-wrap--item\" },\n        [\n          _c(\"div\", { staticClass: \"lm-m-black-head-nav\" }, [\n            _c(\"div\", { staticClass: \"lm-m-black-head-nav-wrap\" }, [\n              _c(\"div\", { staticClass: \"left\" }, [\n                _c(\"a\", { on: { click: _vm._handleClickPreviousPage } }, [\n                  _c(\"i\", { staticClass: \"lm-back-icon\" }),\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(\"К списку\")])\n                ])\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"right\" },\n                [\n                  _vm.isCurrentUser && _vm.interview.approve === 0\n                    ? [\n                        _c(\"i\", {\n                          staticClass: \"lm-more-icon\",\n                          on: { click: _vm._handleClickActionSheetClick }\n                        })\n                      ]\n                    : _vm._e()\n                ],\n                2\n              )\n            ])\n          ]),\n          _vm._v(\" \"),\n          _vm.interview\n            ? [\n                _c(\"div\", { staticClass: \"lm-m-article-wrap--item-head\" }, [\n                  _c(\"img\", {\n                    staticClass: \"background\",\n                    attrs: {\n                      src: _vm.interview.images[\"media_social\"],\n                      alt: _vm.interview.title\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"lm-m-article-overflow\" }, [\n                    _c(\"img\", {\n                      staticClass: \"image\",\n                      attrs: {\n                        src: _vm.interview.images[\"346x442\"],\n                        alt: _vm.interview.title\n                      }\n                    })\n                  ])\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"lm-m-article-overflow-item\" }, [\n                  _c(\n                    \"div\",\n                    { staticClass: \"lm-m-article-overflow-item-title\" },\n                    [\n                      _c(\n                        \"router-link\",\n                        {\n                          staticClass: \"category bio\",\n                          attrs: {\n                            to: {\n                              name: \"interviews.category\",\n                              params: { category: _vm.category.slug }\n                            }\n                          }\n                        },\n                        [\n                          _vm._v(\n                            \"\\n            \" +\n                              _vm._s(_vm.category.name) +\n                              \"\\n          \"\n                          )\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"span\", { staticClass: \"date\" }, [\n                        _vm._v(\n                          _vm._s(\n                            _vm._f(\"moment\")(\n                              [_vm.interview.date, \"DD-MM-YYYY\"],\n                              \"DD MMM Y\"\n                            )\n                          )\n                        )\n                      ])\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"h1\", { staticClass: \"blog-title\" }, [\n                    _vm._v(_vm._s(_vm._f(\"truncate\")(_vm.interview.title, 50)))\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"lm-m-article-item-user\" },\n                    [\n                      _c(\n                        \"router-link\",\n                        {\n                          staticClass: \"lm-user-block small\",\n                          attrs: {\n                            to: {\n                              name: \"user.show\",\n                              params: { username: _vm.user.username }\n                            }\n                          }\n                        },\n                        [\n                          _c(\"img\", {\n                            staticClass: \"lm-user-block-avatar\",\n                            attrs: { src: _vm.user.avatar }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"lm-user-block-info\" }, [\n                            _c(\n                              \"div\",\n                              { staticClass: \"lm-user-block-info-name\" },\n                              [_c(\"span\", [_vm._v(_vm._s(_vm.user_name))])]\n                            )\n                          ])\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        { staticClass: \"lm-m-article-item-share\" },\n                        [\n                          _c(\"social-share\", {\n                            attrs: {\n                              url: _vm.interview.href,\n                              title: \"Bio \" + _vm.interview.title,\n                              description: _vm.$truncate(\n                                _vm.interview.description,\n                                50\n                              ),\n                              media: _vm.interview.og.vk\n                            }\n                          })\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        { staticClass: \"lm-m-article-item-view\" },\n                        [\n                          _c(\"like-el\", {\n                            attrs: {\n                              type: \"interview\",\n                              id: _vm.interview.id,\n                              count: _vm.likes.count,\n                              liked: _vm.likes.liked,\n                              gtm: \"LIKE_ARTICLE_LIST\"\n                            }\n                          })\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"div\", {\n                    staticClass: \"text\",\n                    domProps: { innerHTML: _vm._s(_vm.interview.description) }\n                  })\n                ])\n              ]\n            : _vm._e(),\n          _vm._v(\" \"),\n          !_vm.interview\n            ? [_c(\"span\", [_vm._v(\"Ошибка, интервью не найдено.\")])]\n            : _vm._e()\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      _c(\"actionsheet\", {\n        attrs: { actions: _vm.sheet.actions, \"cancel-text\": \"\" },\n        model: {\n          value: _vm.sheet.value,\n          callback: function($$v) {\n            _vm.$set(_vm.sheet, \"value\", $$v)\n          },\n          expression: \"sheet.value\"\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-10bbb0c8\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-10bbb0c8\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!../node_modules/vue-loader/lib/selector.js?type=template&index=0!../src/views/Interview/Show/Index.vue\n// module id = 2165\n// module chunks = 233\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/views/Interview/Show/Index.vue?10b7\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/views/Interview/Show/Index.vue?752e"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkBA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAHA;AADA;AAWA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAwBA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAhDA;;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}