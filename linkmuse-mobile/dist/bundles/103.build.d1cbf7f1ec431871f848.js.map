{"version":3,"file":"103.build.d1cbf7f1ec431871f848.js","sources":["webpack:///webpack:///webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue","webpack:///webpack:///webpack:///webpack:///webpack:///Model.vue","webpack:///webpack:///webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue","webpack:///webpack:///webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?3210","webpack:///webpack:///webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?b5c9","webpack:///webpack:///webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?9b6c","webpack:///webpack:///webpack:///webpack:///webpack:///portfolio.vue","webpack:///webpack:///webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?1dd0","webpack:///webpack:///webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?aa91","webpack:///webpack:///webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?e996"],"sourcesContent":["var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?sourceMap!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a7e4c6c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./portfolio.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./portfolio.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./portfolio.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a7e4c6c\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./portfolio.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a7e4c6c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/views/User/Register/helpers/portfolio.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-6a7e4c6c\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-6a7e4c6c\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../src/views/User/Register/helpers/portfolio.vue\n// module id = 1433\n// module chunks = 103\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/views/User/Register/helpers/portfolio.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue","<template>\n  <div>\n    <div class=\"portfolio-wrap\" v-if=\"portfolio\">\n      <div :class=\"[{ 'uploaded': (has(cells['data'][0], 'data.path') && has(cells['data'][0], 'data.id')), 'error': errors.indexOf(0) > -1 , 'loaded': loaders.indexOf(0) > -1 }, 'lm-m-post-register-portfolio--item', 'first']\">\n        <template v-if=\"!has(cells['data'][0], 'data.id') \">\n          <div class=\"item-upload-wrap\" @click=\"_handleClickUploadPhoto(0)\">\n            <i class=\"lm-icon-square-upload\"></i>\n            <span class=\"desc\">Портретное фото</span>\n          </div>\n        </template>\n        <template v-else-if=\"has(cells['data'][0], 'data.path') && has(cells['data'][0], 'data.id')\">\n          <div class=\"item-wrap\" @click=\"_handleClickOpenPhoto(0)\">\n            <img :src=\"cells['data'][0]['thumbnail']\" :alt=\"cells['data'][0]['data']['description']\" :style=\"{ height: 'auto' }\">\n            <i class=\"remove\" @click.stop.prevent=\"_handleClickClearCell(0)\"></i>\n          </div>\n        </template>\n      </div>\n      <div :class=\"[{ 'uploaded': (has(cells['data'][2], 'data.path') && has(cells['data'][2], 'data.id')), 'error': errors.indexOf(2) > -1 , 'loaded': loaders.indexOf(2) > -1 }, 'lm-m-post-register-portfolio--item', 'second']\">\n        <template v-if=\"!has(cells['data'][2], 'data.id') \">\n          <div class=\"item-upload-wrap\" @click=\"_handleClickUploadPhoto(2)\">\n            <i class=\"lm-icon-square-upload\"></i>\n            <span class=\"desc\">Фото в полный рост</span>\n          </div>\n        </template>\n        <template v-else-if=\"has(cells['data'][2], 'data.path') && has(cells['data'][2], 'data.id')\">\n          <div class=\"item-wrap\" @click=\"_handleClickOpenPhoto(2)\">\n            <img :src=\"cells['data'][2]['thumbnail']\" :alt=\"cells['data'][2]['data']['description']\" :style=\"{ height: 'auto' }\">\n            <i class=\"remove\" @click.stop.prevent=\"_handleClickClearCell(2)\"></i>\n          </div>\n        </template>\n      </div>\n      <div :class=\"[{ 'uploaded': (has(cells['data'][3], 'data.path') && has(cells['data'][3], 'data.id')), 'error': errors.indexOf(3) > -1 , 'loaded': loaders.indexOf(3) > -1 }, 'lm-m-post-register-portfolio--item', 'second']\">\n        <template v-if=\"!has(cells['data'][3], 'data.id') \">\n          <div class=\"item-upload-wrap\" @click=\"_handleClickUploadPhoto(3)\">\n            <i class=\"lm-icon-square-upload\"></i>\n            <span class=\"desc\">Фото в полный рост</span>\n          </div>\n        </template>\n        <template v-else-if=\"has(cells['data'][3], 'data.path') && has(cells['data'][3], 'data.id')\">\n          <div class=\"item-wrap\" @click=\"_handleClickOpenPhoto(3)\">\n            <img :src=\"cells['data'][3]['thumbnail']\" :alt=\"cells['data'][3]['data']['description']\" :style=\"{ height: 'auto' }\">\n            <i class=\"remove\" @click.stop.prevent=\"_handleClickClearCell(3)\"></i>\n          </div>\n        </template>\n      </div>\n      <div :class=\"[{ 'uploaded': (has(cells['data'][1], 'data.id')), 'error': errors.indexOf(1) > -1 , 'loaded': loaders.indexOf(1) > -1 }, 'lm-m-post-register-portfolio--item', 'three']\">\n        <template v-if=\"!has(cells['data'][1], 'data.id') \">\n          <div class=\"item-upload-wrap\" @click=\"_handleClickUploadVideo(1)\">\n            <i class=\"lm-icon-square-upload\"></i>\n            <span class=\"desc\">Видео</span>\n          </div>\n        </template>\n        <template v-else-if=\"has(cells['data'][1], 'data.id')\">\n          <div class=\"item-wrap\" @click=\"_handleClickOpenVideo(1)\">\n            <img :src=\"cells['data'][1]['data']['cover_image_orig']\" :alt=\"cells['data'][1]['data']['description']\" :style=\"{ height: 'auto' }\">\n            <i class=\"remove\" @click.stop.prevent=\"_handleClickClearCell(1)\"></i>\n          </div>\n        </template>\n      </div>\n\n      <input type=\"file\" accept=\"image/*\" @change=\"_handleChangeInputPhoto\" ref=\"fileInputPhotoPortfolio\" style=\"display: none\">\n      <input type=\"file\" accept=\"video/*\" @change=\"_handleChangeInputVideo\" ref=\"fileInputVideoPortfolio\" style=\"display: none\">\n    </div>\n\n    <div class=\"lm-input-wrap\" v-if=\"(!has(cells['data'][1], 'data.id'))\">\n      <input type=\"text\" class=\"lm-input\" placeholder=\"Добавьте ссылку\" @blur=\"_handleBlurInputVideoUrl\">\n      <span class=\"desc\">Вместо загрузки видео вы можете указать ссылку на Youtube, Rutube, Vimeo и другие</span>\n    </div>\n\n    <mt-popup class=\"lm-m-post-register-page-wrapper lm-m-post-register-select-role lm-m-crop-avatar-image\" v-model=\"cropper.modal\" position=\"bottom\" :modal=\"false\">\n      <h1 style=\"margin-bottom: 12px;\">Обрежьте фото</h1>\n\n      <div class=\"lm-m-post-register-crop-wrap\">\n        <div class=\"lm-m-cropper\">\n          <div class=\"lm-m-cropper-editor\">\n            <vue-cropper v-if=\"(activeCell !== null && cropper.src && cropper.modal)\"\n              class=\"lm-m-cropper-canvas\"\n              ref=\"cropper_portfolio_photo\"\n              :guides=\"false\"\n              :checkCrossOrigin=\"true\"\n\n              :background=\"false\"\n\n              :view-mode=\"1\"\n              :drag-mode=\"'move'\"\n              :aspect-ratio=\"(this.cells.data[activeCell]['size']['width']/this.cells.data[activeCell]['size']['height'])\"\n              :auto-crop-area=\"0.5\"\n\n              :cropBoxMovable=\"false\"\n              :cropBoxResizable=\"false\"\n\n              :src=\"cropper.src\"\n              alt=\"Photo\">\n            </vue-cropper>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"lm-m-post-register-fixed-bottom\">\n        <a @click=\"_handleClickCloseCropperPhoto\" href=\"javascript:void(0)\" class=\"lm-link-button\">отмена</a>\n        <button @click=\"_handleClickCropPhoto\" class=\"lm-primary-button middle\">Обрезать</button>\n      </div>\n    </mt-popup>\n  </div>\n</template>\n\n<script>\n  import { has, checkLoadImage, resizeImage } from '@utils'\n  import { Popup, Indicator, Toast } from 'mint-ui'\n\n  const BASE_URL_UPLOAD = process.env.BASE_URL_UPLOAD\n\n  const resizeCropImage = (next, src) => {\n    return new Promise((resolve) => {\n      resizeImage(src, 2560).then(({ src }) => {\n        next(src)\n        resolve(src)\n      }, err => {\n        next(src)\n        resolve(src)\n        console.error(err);\n      })\n    })\n  }\n\n  export default {\n    components: { 'mt-popup': Popup },\n    props: {\n      portfolio: {\n        required: true\n      }\n    },\n    data () {\n      return {\n        has,\n        activeCell: null,\n        cells: this.portfolio.cells,\n        loaders: [],\n        errors: [],\n        cropper: {\n          loading: false,\n          modal: false,\n          src: null\n        }\n      }\n    },\n    methods: {\n      _handleClickUploadPhoto (cell) {\n        this.activeCell = cell\n        this.$refs.fileInputPhotoPortfolio.click()\n      },\n      _handleClickOpenPhoto (cell) {\n        this.activeCell = cell\n\n        let { data: { path }, points, resized } = this.cells['data'][cell]\n\n        Indicator.open()\n\n        checkLoadImage(resized || path).then(({ path, status }) => {\n          const next = (path) => {\n            Indicator.close()\n            this.cropper.src = path\n            this.cropper.modal = true\n\n            this.$nextTick(() => {\n              let context = this.$refs.cropper_portfolio_photo\n              // context.setCanvasData(points)\n              context.replace(path)\n            })\n          }\n\n          if (resized) {\n            next(resized)\n          } else {\n            resizeCropImage(next, path).then(src => {\n              this.$set(this.cells['data'][cell], 'resized', src)\n            })\n          }\n        }).catch(() => {\n          Indicator.close()\n\n          Toast({\n            message: 'Ошибка',\n            iconClass: 'mintui mintui-field-error'\n          })\n        })\n      },\n      _handleClickUploadVideo (cell) {\n        this.activeCell = cell\n        this.$refs.fileInputVideoPortfolio.click()\n      },\n      _handleClickOpenVideo (cell) {},\n      _handleChangeInputPhoto (el) {\n        let files = el.target.files || el.dataTransfer.files;\n        if (!files.length)\n          return;\n\n        const file = el.target.files[0]\n        const cell = this.activeCell\n\n        if (!file.type.includes('image/')) {\n          console.log('Please select an image file')\n          return\n        }\n\n        if (typeof FileReader === 'function') {\n          const reader = new FileReader()\n\n          reader.onload = (event) => {\n            const next = (src) => {\n              this.cropper.src = src\n\n              this._handleUploadPhoto(file).then(({ photo_id, path }) => {\n                this.$set(this.cells['data'][cell], 'data', {\n                  path,\n                  id: photo_id,\n                  thumbnail: path,\n                  uploaded: false\n                })\n                this.$set(this.cells['data'][cell], 'resized', src)\n\n                this.cropper.modal = true\n                this.$refs.cropper_portfolio_photo.replace(src)\n              }).catch((data, status) => {})\n            }\n\n            resizeCropImage(next, event.target.result)\n          };\n          reader.readAsDataURL(file);\n        } else console.log('Sorry, FileReader API not supported');\n      },\n      _handleChangeInputVideo (el) {\n        let files = el.target.files || el.dataTransfer.files;\n        if (!files.length)\n          return;\n\n        const file = el.target.files[0]\n        const cell = this.activeCell\n\n        if (!file.type.includes('video/')) {\n          console.log('Please select an video file')\n          return\n        }\n\n        this._handleUploadVideo(file).then((data) => {\n          this.$set(this.cells['data'][cell], 'data', data)\n          let { video_id } = data\n\n          Indicator.open()\n\n          this.$api.post(`api/v1/profiles/portfolio/${this.portfolio.id}/positions/${cell}`, { content_id: video_id }).then((response) => {\n            const { data } = response\n\n            this.$emit('updated', cell, this.cells['data'][cell])\n            this.activeCell = null\n\n            Indicator.close()\n\n            Toast({\n              message: 'Успешно',\n              iconClass: 'mintui mintui-success'\n            })\n\n          }, (error) => {\n            const { response: { data }, response: { status }} = error\n\n            this.activeCell = null\n\n            Indicator.close()\n            if (status === 422 && data.errors) {\n              const { errors } = data\n            } else throw new Error('Error attach video')\n          })\n        }).catch((data, status) => {})\n      },\n      _handleUploadPhoto (file) {\n        return new Promise((resolve, reject) => {\n          Indicator.open()\n\n          const cell = this.activeCell\n\n          if (this.loaders.indexOf(cell) < 0) {\n            this.loaders.push(cell)\n          }\n\n          let data = new FormData();\n          data.append('file', file, 'photo.png')\n\n          this.$api.post('api/v1/profiles/portfolio/positions/photos', data, { baseURL: BASE_URL_UPLOAD, timeout: 120000 }).then((response) => {\n            const { data: { photo_id, path } } = response\n\n            this.$refs.fileInputPhotoPortfolio.value = ''\n\n            Indicator.close()\n            Toast({\n              message: 'Успешно',\n              iconClass: 'mintui mintui-success'\n            });\n\n            this.loaders.splice(this.loaders.indexOf(cell), 1)\n            this.errors.splice(this.errors.indexOf(cell), 1)\n            resolve({ photo_id, path })\n\n          }, (error) => {\n            Indicator.close()\n\n            this.loaders.splice(this.loaders.indexOf(cell), 1)\n            this.errors.push(cell)\n\n            Toast({\n              message: 'Ошибка',\n              iconClass: 'mintui mintui-field-error'\n            });\n\n            const { response: { data }, response: { status }} = error\n\n            if (status === 422 && data.errors) {\n              const { errors } = data\n            } else throw new Error('Error upload photo')\n\n            reject(data, status)\n          })\n        })\n      },\n      _handleBlurInputVideoUrl (el) {\n        let value = el.target.value\n\n        if (!value) return\n\n        const cell = 1\n        this.activeCell = 1\n\n        this._handleUploadVideo(value).then((data) => {\n          this.$set(this.cells['data'][cell], 'data', data)\n          let { video_id } = data\n\n          Indicator.open()\n\n          this.$api.post(`api/v1/profiles/portfolio/${this.portfolio.id}/positions/${cell}`, { content_id: video_id }).then((response) => {\n            const { data } = response\n\n            this.$emit('updated', cell, this.cells['data'][cell])\n\n            this.activeCell = null\n\n            Indicator.close()\n\n            Toast({\n              message: 'Успешно',\n              iconClass: 'mintui mintui-success'\n            })\n\n          }, (error) => {\n            const { response: { data }, response: { status }} = error\n\n            this.activeCell = null\n\n            Indicator.close()\n            if (status === 422 && data.errors) {\n              const { errors } = data\n            } else throw new Error('Error attach video')\n          })\n        }).catch((data, status) => {})\n      },\n      _handleUploadVideo (file) {\n        return new Promise((resolve, reject) => {\n          Indicator.open()\n\n          const cell = this.activeCell\n\n          if (this.loaders.indexOf(cell) < 0) {\n            this.loaders.push(cell)\n          }\n\n          let data = new FormData();\n          data.append('file', file)\n\n          this.$api.post('api/v1/users/videos', data, { baseURL: BASE_URL_UPLOAD, timeout: 120000 }).then((response) => {\n            const { data: { data } } = response\n\n            this.$refs.fileInputVideoPortfolio.value = ''\n\n            Indicator.close()\n\n            this.loaders.splice(this.loaders.indexOf(cell), 1)\n            this.errors.splice(this.errors.indexOf(cell), 1)\n            resolve(data)\n\n          }, (error) => {\n            Indicator.close()\n\n            this.loaders.splice(this.loaders.indexOf(cell), 1)\n            this.errors.push(cell)\n\n            Toast({\n              message: 'Ошибка',\n              iconClass: 'mintui mintui-field-error'\n            });\n\n            const { response: { data }, response: { status }} = error\n\n            if (status === 422 && data.errors) {\n              const { errors } = data\n            } else throw new Error('Error upload video')\n\n            reject(data, status)\n          })\n        })\n      },\n      _handleClickCloseCropperPhoto () {\n        let cell = this.activeCell\n\n        if (has(this.cells['data'][cell], 'data.uploaded') && this.cells['data'][cell]['data']['uploaded'] === false) {\n          let el = JSON.parse(JSON.stringify(this.cells.data[cell]))\n          this.$set(this.cells.data, cell, {\n            type: el.type,\n            position: el.position,\n            size: el.size || null\n          })\n        }\n\n        this.activeCell = null\n        this.cropper.modal = false\n        this.cropper.src = null\n      },\n      _handleClickCropPhoto () {\n        Indicator.open()\n\n        let cell = this.cells['data'][this.activeCell]\n        let context = this.$refs.cropper_portfolio_photo\n        let size = { \"width\": this.cells.data[this.activeCell]['size']['width'], \"height\": this.cells.data[this.activeCell]['size']['height'] }\n\n        let canvasData = context.getCanvasData()\n        this.$set(this.cells['data'][this.activeCell]['data'], 'uploaded', true)\n        this.$set(this.cells['data'][this.activeCell], 'thumbnail', context.getCroppedCanvas(size).toDataURL())\n\n        context.getCroppedCanvas(size).toBlob((blob) => {\n          let data = new FormData()\n\n          data.append('content_id', cell['data']['id'])\n          data.append('thumbnail', blob, 'thumbnail.jpg')\n\n          this.$set(this.cells['data'][this.activeCell], 'points', canvasData)\n          Object.keys(canvasData).forEach(( key ) => data.append(`points[${key}]`, canvasData[key].toFixed(3)))\n\n          this.$api.post(`api/v1/profiles/portfolio/${this.portfolio.id}/positions/${cell['position']}`, data).then((response) => {\n            const { data } = response\n\n            cell['attach'] = true\n\n            this.$emit('updated', this.activeCell, this.cells['data'][this.activeCell])\n\n            this.cropper.modal = false\n            this.cropper.src = null\n            this.activeCell = null\n\n            Indicator.close()\n\n          }, (error) => {\n            const { response: { data }, response: { status }} = error\n\n            this.cropper.modal = false\n            this.cropper.src = null\n            this.activeCell = null\n\n            Indicator.close()\n            if (status === 422 && data.errors) {\n              const { errors } = data\n            } else throw new Error('Error attach avatar')\n          })\n        })\n      },\n      _handleClickClearCell (cell) {\n        return new Promise((resolve, reject) => {\n          Indicator.open()\n\n          let el = JSON.parse(JSON.stringify(this.cells.data[cell]))\n\n          this.$set(this.cells.data, cell, {\n            type: el.type,\n            position: el.position,\n            size: el.size || null\n          })\n\n          this.$api.delete(`api/v1/profiles/portfolio/${this.portfolio.id}/positions/${cell}`).then((response) => {\n            Indicator.close()\n            this.$emit('updated', cell, this.cells.data[cell])\n            this.$emit('unpublished')\n            resolve()\n          }, (error) => {\n            const { response: { data }, response: { status }} = error\n\n            this.$set(this.cells.data, cell, el)\n            this.$emit('updated', cell, this.cells.data[cell])\n\n            Indicator.close()\n\n            if (status === 422 && data.errors) {\n              const { errors } = data\n            } else throw new Error('Error attach avatar')\n\n            reject(error)\n          })\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Model.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///Model.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///Model.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///Model.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///Model.vue","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?sourceMap!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61068f58\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Model.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Model.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Model.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61068f58\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Model.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-61068f58\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/User/Executor/Portfolio/Templates/Model.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-61068f58\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-61068f58\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../src/components/User/Executor/Portfolio/Templates/Model.vue\n// module id = 1598\n// module chunks = 66 103\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js?sourceMap!../../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61068f58\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Model.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0da5cb90\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js?sourceMap!../../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61068f58\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Model.vue\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/css-loader/index.js?sourceMap!../../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61068f58\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Model.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/vue-style-loader!../node_modules/css-loader?sourceMap!../node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-61068f58\",\"scoped\":true,\"hasInlineConfig\":true}!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!../src/components/User/Executor/Portfolio/Templates/Model.vue\n// module id = 1599\n// module chunks = 66 103\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?2897\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?995d\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?ef70\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?f1df","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"Model.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/css-loader?sourceMap!../node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-61068f58\",\"scoped\":true,\"hasInlineConfig\":true}!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!../src/components/User/Executor/Portfolio/Templates/Model.vue\n// module id = 1600\n// module chunks = 66 103\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?4c40\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?9179\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?39be\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?307e","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _vm.portfolio\n        ? _c(\"div\", { staticClass: \"portfolio-wrap\" }, [\n            _c(\n              \"div\",\n              {\n                class: [\n                  {\n                    uploaded:\n                      _vm.has(_vm.cells[\"data\"][0], \"data.path\") &&\n                      _vm.has(_vm.cells[\"data\"][0], \"data.id\"),\n                    error: _vm.errors.indexOf(0) > -1,\n                    loaded: _vm.loaders.indexOf(0) > -1\n                  },\n                  \"lm-m-post-register-portfolio--item\",\n                  \"first\"\n                ]\n              },\n              [\n                !_vm.has(_vm.cells[\"data\"][0], \"data.id\")\n                  ? [\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"item-upload-wrap\",\n                          on: {\n                            click: function($event) {\n                              return _vm._handleClickUploadPhoto(0)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"i\", { staticClass: \"lm-icon-square-upload\" }),\n                          _vm._v(\" \"),\n                          _c(\"span\", { staticClass: \"desc\" }, [\n                            _vm._v(\"Портретное фото\")\n                          ])\n                        ]\n                      )\n                    ]\n                  : _vm.has(_vm.cells[\"data\"][0], \"data.path\") &&\n                    _vm.has(_vm.cells[\"data\"][0], \"data.id\")\n                  ? [\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"item-wrap\",\n                          on: {\n                            click: function($event) {\n                              return _vm._handleClickOpenPhoto(0)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"img\", {\n                            style: { height: \"auto\" },\n                            attrs: {\n                              src: _vm.cells[\"data\"][0][\"thumbnail\"],\n                              alt: _vm.cells[\"data\"][0][\"data\"][\"description\"]\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"i\", {\n                            staticClass: \"remove\",\n                            on: {\n                              click: function($event) {\n                                $event.stopPropagation()\n                                $event.preventDefault()\n                                return _vm._handleClickClearCell(0)\n                              }\n                            }\n                          })\n                        ]\n                      )\n                    ]\n                  : _vm._e()\n              ],\n              2\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                class: [\n                  {\n                    uploaded:\n                      _vm.has(_vm.cells[\"data\"][2], \"data.path\") &&\n                      _vm.has(_vm.cells[\"data\"][2], \"data.id\"),\n                    error: _vm.errors.indexOf(2) > -1,\n                    loaded: _vm.loaders.indexOf(2) > -1\n                  },\n                  \"lm-m-post-register-portfolio--item\",\n                  \"second\"\n                ]\n              },\n              [\n                !_vm.has(_vm.cells[\"data\"][2], \"data.id\")\n                  ? [\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"item-upload-wrap\",\n                          on: {\n                            click: function($event) {\n                              return _vm._handleClickUploadPhoto(2)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"i\", { staticClass: \"lm-icon-square-upload\" }),\n                          _vm._v(\" \"),\n                          _c(\"span\", { staticClass: \"desc\" }, [\n                            _vm._v(\"Фото в полный рост\")\n                          ])\n                        ]\n                      )\n                    ]\n                  : _vm.has(_vm.cells[\"data\"][2], \"data.path\") &&\n                    _vm.has(_vm.cells[\"data\"][2], \"data.id\")\n                  ? [\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"item-wrap\",\n                          on: {\n                            click: function($event) {\n                              return _vm._handleClickOpenPhoto(2)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"img\", {\n                            style: { height: \"auto\" },\n                            attrs: {\n                              src: _vm.cells[\"data\"][2][\"thumbnail\"],\n                              alt: _vm.cells[\"data\"][2][\"data\"][\"description\"]\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"i\", {\n                            staticClass: \"remove\",\n                            on: {\n                              click: function($event) {\n                                $event.stopPropagation()\n                                $event.preventDefault()\n                                return _vm._handleClickClearCell(2)\n                              }\n                            }\n                          })\n                        ]\n                      )\n                    ]\n                  : _vm._e()\n              ],\n              2\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                class: [\n                  {\n                    uploaded:\n                      _vm.has(_vm.cells[\"data\"][3], \"data.path\") &&\n                      _vm.has(_vm.cells[\"data\"][3], \"data.id\"),\n                    error: _vm.errors.indexOf(3) > -1,\n                    loaded: _vm.loaders.indexOf(3) > -1\n                  },\n                  \"lm-m-post-register-portfolio--item\",\n                  \"second\"\n                ]\n              },\n              [\n                !_vm.has(_vm.cells[\"data\"][3], \"data.id\")\n                  ? [\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"item-upload-wrap\",\n                          on: {\n                            click: function($event) {\n                              return _vm._handleClickUploadPhoto(3)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"i\", { staticClass: \"lm-icon-square-upload\" }),\n                          _vm._v(\" \"),\n                          _c(\"span\", { staticClass: \"desc\" }, [\n                            _vm._v(\"Фото в полный рост\")\n                          ])\n                        ]\n                      )\n                    ]\n                  : _vm.has(_vm.cells[\"data\"][3], \"data.path\") &&\n                    _vm.has(_vm.cells[\"data\"][3], \"data.id\")\n                  ? [\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"item-wrap\",\n                          on: {\n                            click: function($event) {\n                              return _vm._handleClickOpenPhoto(3)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"img\", {\n                            style: { height: \"auto\" },\n                            attrs: {\n                              src: _vm.cells[\"data\"][3][\"thumbnail\"],\n                              alt: _vm.cells[\"data\"][3][\"data\"][\"description\"]\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"i\", {\n                            staticClass: \"remove\",\n                            on: {\n                              click: function($event) {\n                                $event.stopPropagation()\n                                $event.preventDefault()\n                                return _vm._handleClickClearCell(3)\n                              }\n                            }\n                          })\n                        ]\n                      )\n                    ]\n                  : _vm._e()\n              ],\n              2\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                class: [\n                  {\n                    uploaded: _vm.has(_vm.cells[\"data\"][1], \"data.id\"),\n                    error: _vm.errors.indexOf(1) > -1,\n                    loaded: _vm.loaders.indexOf(1) > -1\n                  },\n                  \"lm-m-post-register-portfolio--item\",\n                  \"three\"\n                ]\n              },\n              [\n                !_vm.has(_vm.cells[\"data\"][1], \"data.id\")\n                  ? [\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"item-upload-wrap\",\n                          on: {\n                            click: function($event) {\n                              return _vm._handleClickUploadVideo(1)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"i\", { staticClass: \"lm-icon-square-upload\" }),\n                          _vm._v(\" \"),\n                          _c(\"span\", { staticClass: \"desc\" }, [_vm._v(\"Видео\")])\n                        ]\n                      )\n                    ]\n                  : _vm.has(_vm.cells[\"data\"][1], \"data.id\")\n                  ? [\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"item-wrap\",\n                          on: {\n                            click: function($event) {\n                              return _vm._handleClickOpenVideo(1)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"img\", {\n                            style: { height: \"auto\" },\n                            attrs: {\n                              src:\n                                _vm.cells[\"data\"][1][\"data\"][\n                                  \"cover_image_orig\"\n                                ],\n                              alt: _vm.cells[\"data\"][1][\"data\"][\"description\"]\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"i\", {\n                            staticClass: \"remove\",\n                            on: {\n                              click: function($event) {\n                                $event.stopPropagation()\n                                $event.preventDefault()\n                                return _vm._handleClickClearCell(1)\n                              }\n                            }\n                          })\n                        ]\n                      )\n                    ]\n                  : _vm._e()\n              ],\n              2\n            ),\n            _vm._v(\" \"),\n            _c(\"input\", {\n              ref: \"fileInputPhotoPortfolio\",\n              staticStyle: { display: \"none\" },\n              attrs: { type: \"file\", accept: \"image/*\" },\n              on: { change: _vm._handleChangeInputPhoto }\n            }),\n            _vm._v(\" \"),\n            _c(\"input\", {\n              ref: \"fileInputVideoPortfolio\",\n              staticStyle: { display: \"none\" },\n              attrs: { type: \"file\", accept: \"video/*\" },\n              on: { change: _vm._handleChangeInputVideo }\n            })\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      !_vm.has(_vm.cells[\"data\"][1], \"data.id\")\n        ? _c(\"div\", { staticClass: \"lm-input-wrap\" }, [\n            _c(\"input\", {\n              staticClass: \"lm-input\",\n              attrs: { type: \"text\", placeholder: \"Добавьте ссылку\" },\n              on: { blur: _vm._handleBlurInputVideoUrl }\n            }),\n            _vm._v(\" \"),\n            _c(\"span\", { staticClass: \"desc\" }, [\n              _vm._v(\n                \"Вместо загрузки видео вы можете указать ссылку на Youtube, Rutube, Vimeo и другие\"\n              )\n            ])\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"mt-popup\",\n        {\n          staticClass:\n            \"lm-m-post-register-page-wrapper lm-m-post-register-select-role lm-m-crop-avatar-image\",\n          attrs: { position: \"bottom\", modal: false },\n          model: {\n            value: _vm.cropper.modal,\n            callback: function($$v) {\n              _vm.$set(_vm.cropper, \"modal\", $$v)\n            },\n            expression: \"cropper.modal\"\n          }\n        },\n        [\n          _c(\"h1\", { staticStyle: { \"margin-bottom\": \"12px\" } }, [\n            _vm._v(\"Обрежьте фото\")\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"lm-m-post-register-crop-wrap\" }, [\n            _c(\"div\", { staticClass: \"lm-m-cropper\" }, [\n              _c(\n                \"div\",\n                { staticClass: \"lm-m-cropper-editor\" },\n                [\n                  _vm.activeCell !== null &&\n                  _vm.cropper.src &&\n                  _vm.cropper.modal\n                    ? _c(\"vue-cropper\", {\n                        ref: \"cropper_portfolio_photo\",\n                        staticClass: \"lm-m-cropper-canvas\",\n                        attrs: {\n                          guides: false,\n                          checkCrossOrigin: true,\n                          background: false,\n                          \"view-mode\": 1,\n                          \"drag-mode\": \"move\",\n                          \"aspect-ratio\":\n                            this.cells.data[_vm.activeCell][\"size\"][\"width\"] /\n                            this.cells.data[_vm.activeCell][\"size\"][\"height\"],\n                          \"auto-crop-area\": 0.5,\n                          cropBoxMovable: false,\n                          cropBoxResizable: false,\n                          src: _vm.cropper.src,\n                          alt: \"Photo\"\n                        }\n                      })\n                    : _vm._e()\n                ],\n                1\n              )\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"lm-m-post-register-fixed-bottom\" }, [\n            _c(\n              \"a\",\n              {\n                staticClass: \"lm-link-button\",\n                attrs: { href: \"javascript:void(0)\" },\n                on: { click: _vm._handleClickCloseCropperPhoto }\n              },\n              [_vm._v(\"отмена\")]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"button\",\n              {\n                staticClass: \"lm-primary-button middle\",\n                on: { click: _vm._handleClickCropPhoto }\n              },\n              [_vm._v(\"Обрезать\")]\n            )\n          ])\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-61068f58\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61068f58\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!../node_modules/vue-loader/lib/selector.js?type=template&index=0!../src/components/User/Executor/Portfolio/Templates/Model.vue\n// module id = 1601\n// module chunks = 66 103\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?e117\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?ff6a\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?6794\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///../src/components/User/Executor/Portfolio/Templates/Model.vue?22a4","<template>\n  <div>\n    <div class=\"lm-m-post-register-enter-info lm-portfolio\">\n      <template-model :portfolio=\"portfolio\" :is_current_user=\"is_current_user\" v-if=\"portfolio\"></template-model>\n    </div>\n    <div slot=\"actions\" class=\"lm-m-post-register-fixed-bottom\" v-if=\"is_current_user\">\n      <a @click=\"_handleClickSkipPublishPortfolio\" href=\"javascript:void(0)\" class=\"lm-link-button\">Пропустить</a>\n      <button @click=\"_handleClickPublishPortfolio\" class=\"lm-primary-button middle\" v-if=\"(disabledPublish === false)\">Завершить</button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { has } from '@utils'\n  import { mapGetters } from 'vuex'\n  import { Indicator } from 'mint-ui'\n  import TemplateModel from '@components/User/Executor/Portfolio/Templates/Model.vue'\n\n  export default {\n    components: { 'template-model': TemplateModel },\n    props: {\n      is_current_user: {\n        type: Boolean,\n        required: false\n      }\n    },\n    data () {\n      return {\n        portfolio: null\n      }\n    },\n    computed: {\n      ...mapGetters({\n        role: 'auth/getRole',\n        user: 'auth/getAuthUser'\n      }),\n      isExecutor () {\n        return (this.role === 'executor')\n      },\n      disabledPublish () {\n        if (!this.portfolio) return true\n        return this.portfolio.cells.data.some(cell => has(cell, 'data.id') === false)\n      }\n    },\n    created () {\n      this.$api.get(`api/v1/users/${this.user.id}/portfolio`).then((response) => {\n        const { data: { data } } = response\n        this.portfolio = data ? data[0] : null\n      }, (error) => {\n        const { response: { data }, response: { status }} = error\n\n        if (status === 422 && data.errors) {\n          const { errors } = data\n\n        } else throw new Error('Error loading portfolio')\n      })\n    },\n    methods: {\n      _handleClickSkipPublishPortfolio () {\n        this._handleRedirectAfterRegister()\n      },\n      _handleClickPublishPortfolio () {\n        Indicator.open()\n\n        this.$api.patch(`api/v1/profiles/portfolio/${this.portfolio.id}/publish`).then((response) => {\n          const { data: { data } } = response\n\n          Indicator.close()\n          this._handleRedirectAfterRegister()\n        }, (error) => {\n          const { response: { data }, response: { status }} = error\n\n          Indicator.close()\n\n          if (status === 422 && data.errors) {\n            const { errors } = data\n\n          } else throw new Error('Error loading portfolio')\n        })\n      },\n      _handleRedirectAfterRegister () {\n        if (this.$localStorage.get('redirect.register', null, String)) {\n          let location = this.$localStorage.get('redirect.register', '/', String)\n          this.$localStorage.remove('redirect.register')\n          this.$router.push(location)\n        } else this.$router.push({ name: 'user.show', params: { username: this.user.username } })\n\n        this.$nextTick(() => {\n          this.$root.$emit('open-modal-draw-geo')\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// portfolio.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///portfolio.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///portfolio.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///portfolio.vue\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///portfolio.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?sourceMap!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a7e4c6c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./portfolio.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4e33ebc5\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?sourceMap!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a7e4c6c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./portfolio.vue\", function() {\n     var newContent = require(\"!!../../../../../node_modules/css-loader/index.js?sourceMap!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a7e4c6c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./portfolio.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/vue-style-loader!../node_modules/css-loader?sourceMap!../node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6a7e4c6c\",\"scoped\":true,\"hasInlineConfig\":true}!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!../src/views/User/Register/helpers/portfolio.vue\n// module id = 2693\n// module chunks = 103\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/views/User/Register/helpers/portfolio.vue?8623\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?2d99\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?9741\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?42cb","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"portfolio.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/css-loader?sourceMap!../node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6a7e4c6c\",\"scoped\":true,\"hasInlineConfig\":true}!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!../src/views/User/Register/helpers/portfolio.vue\n// module id = 2694\n// module chunks = 103\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/views/User/Register/helpers/portfolio.vue?cd8b\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?2041\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?b44b\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?1cc8","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\n      \"div\",\n      { staticClass: \"lm-m-post-register-enter-info lm-portfolio\" },\n      [\n        _vm.portfolio\n          ? _c(\"template-model\", {\n              attrs: {\n                portfolio: _vm.portfolio,\n                is_current_user: _vm.is_current_user\n              }\n            })\n          : _vm._e()\n      ],\n      1\n    ),\n    _vm._v(\" \"),\n    _vm.is_current_user\n      ? _c(\n          \"div\",\n          {\n            staticClass: \"lm-m-post-register-fixed-bottom\",\n            attrs: { slot: \"actions\" },\n            slot: \"actions\"\n          },\n          [\n            _c(\n              \"a\",\n              {\n                staticClass: \"lm-link-button\",\n                attrs: { href: \"javascript:void(0)\" },\n                on: { click: _vm._handleClickSkipPublishPortfolio }\n              },\n              [_vm._v(\"Пропустить\")]\n            ),\n            _vm._v(\" \"),\n            _vm.disabledPublish === false\n              ? _c(\n                  \"button\",\n                  {\n                    staticClass: \"lm-primary-button middle\",\n                    on: { click: _vm._handleClickPublishPortfolio }\n                  },\n                  [_vm._v(\"Завершить\")]\n                )\n              : _vm._e()\n          ]\n        )\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-6a7e4c6c\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a7e4c6c\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!../node_modules/vue-loader/lib/selector.js?type=template&index=0!../src/views/User/Register/helpers/portfolio.vue\n// module id = 2695\n// module chunks = 103\n\n\n// WEBPACK FOOTER //\n// webpack:///../src/views/User/Register/helpers/portfolio.vue?ada9\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?bf7a\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?a9bd\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack:///webpack:///webpack:///../src/views/User/Register/helpers/portfolio.vue?19ad"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AANA;AAYA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAPA;AAAA;AACA;AACA;AAWA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAPA;AAAA;AACA;AACA;AAWA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAtWA;AArBA;;;;;;;;AC7HA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AADA;AAGA;AACA;AAAA;AAEA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAXA;AAaA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AAvCA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}